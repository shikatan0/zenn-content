---
title: "ã€.NET 5, F#ã€‘WinForms ã®ä½¿ç”¨æ–¹æ³•"
emoji: "ğŸ–¥"
type: "tech"
topics: ["dotnet", "fsharp", "winforms"]
published: true
---

# å‰æ

- [.NET CLI [â†—]](https://docs.microsoft.com/ja-jp/dotnet/core/tools/) ã‚’ä½¿ç”¨ã™ã‚‹ã€‚
- .NET CLI ã® `winforms` ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ F# ã«å¯¾å¿œã—ã¦ã„ãªã„[^1]ã€‚

[^1]: https://docs.microsoft.com/ja-jp/dotnet/core/tools/dotnet-new#arguments

# æ‰‹é †

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹

```powershell:PowerShell
dotnet new console -lang "F#" -o å ´æ‰€\ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
```

## `.fsproj` ã‚’å¤‰æ›´ã™ã‚‹

:::message
`OutputType` ã®å€¤ã¯ `Exe` ã§ã‚‚å‹•ä½œã—ã¾ã™ãŒã€WinForms ã‚¢ãƒ—ãƒªã§ã¯ `WinExe` ã‚’è¨­å®šã™ã‚‹ã®ãŒæ¨™æº–[^2]ã§ã™ã€‚
:::

[^2]: https://docs.microsoft.com/ja-jp/dotnet/core/compatibility/windows-forms/5.0/automatically-infer-winexe-output-type

```diff xml:.fsproj
  <Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
+     <OutputType>WinExe</OutputType>
-     <OutputType>Exe</OutputType>
+     <TargetFramework>net5.0-windows</TargetFramework>
-     <TargetFramework>net5.0</TargetFramework>
      <RootNamespace>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå</RootNamespace>
+     <UseWindowsForms>true</UseWindowsForms>
      <WarnOn>3390;$(WarnOn)</WarnOn>
    </PropertyGroup>

    <ItemGroup>
      <Compile Include="Program.fs" />
    </ItemGroup>

  </Project>
```

# å‹•ä½œã®ç¢ºèª

## `Program.fs` ã‚’å¤‰æ›´ã™ã‚‹

```fsharp:Program.fs
System.Windows.Forms.Application.Run(new System.Windows.Forms.Form())
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

å•é¡ŒãŒç„¡ã‘ã‚Œã°ç©ºã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```powershell:PowerShell
dotnet run --project å ´æ‰€\ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå.fsproj
```

# end
