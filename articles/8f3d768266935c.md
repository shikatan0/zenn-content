---
title: "ã€.NET 5, F#ã€‘WinFormsâ€…ã®ä½¿ç”¨æ–¹æ³•"
emoji: "ğŸ–¥"
type: "tech"
topics: ["dotnet", "fsharp", "winforms"]
published: true
---

# å‰æ

- [.NET CLI](https://docs.microsoft.com/ja-jp/dotnet/core/tools/)â€…ã‚’ä½¿ç”¨ã™ã‚‹ã€‚
- .NET CLIâ€…ã®â€…`winforms`â€…ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯â€…F#â€…ã«å¯¾å¿œã—ã¦ã„ãªã„[^1]ã€‚

[^1]: https://docs.microsoft.com/ja-jp/dotnet/core/tools/dotnet-new#:~:text=Windows%20%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%20(WinForms)%20%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3,%5BC%23%5D%E3%80%81VB

# æ‰‹é †

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹

```powershell:PowerShell
dotnet new console -lang "F#" -o å ´æ‰€\ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
```

## `.fsproj`â€…ã‚’å¤‰æ›´ã™ã‚‹

:::message
`OutputType`â€…ã®å€¤ã¯â€…`Exe`â€…ã§ã‚‚å‹•ä½œã—ã¾ã™ãŒã€WinFormsâ€…ã‚¢ãƒ—ãƒªã§ã¯â€…`WinExe`â€…ãŒæ¨™æº–ã§ã™[^2]ã€‚
:::

[^2]: https://docs.microsoft.com/ja-jp/dotnet/core/compatibility/sdk/5.0/automatically-infer-winexe-output-type#:~:text=Windows%20%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%20%E3%82%A2%E3%83%97%E3%83%AA%E3%81%A7%E3%81%AF%E3%80%81%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%20WinExe%20%E3%81%AB%E8%A8%AD%E5%AE%9A%E3%81%95%E3%82%8C%E3%81%BE%E3%81%99%E3%80%82

```diff xml:.fsproj
  <Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
+     <OutputType>WinExe</OutputType>
-     <OutputType>Exe</OutputType>
+     <TargetFramework>net5.0-windows</TargetFramework>
-     <TargetFramework>net5.0</TargetFramework>
      <RootNamespace>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå</RootNamespace>
+     <UseWindowsForms>true</UseWindowsForms>
      <WarnOn>3390;$(WarnOn)</WarnOn>
    </PropertyGroup>

    <ItemGroup>
      <Compile Include="Program.fs" />
    </ItemGroup>

  </Project>
```

# å‹•ä½œã®ç¢ºèª

## `Program.fs`â€…ã‚’å¤‰æ›´ã™ã‚‹

```fsharp:Program.fs
System.Windows.Forms.Application.Run(new System.Windows.Forms.Form())
```

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

å•é¡ŒãŒç„¡ã‘ã‚Œã°ç©ºã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```powershell:PowerShell
dotnet run --project å ´æ‰€\ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå.fsproj
```

# end
