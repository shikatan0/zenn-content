---
title: "[esbuild] ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹"
emoji: "ðŸ§¹"
type: "tech"
topics: [esbuild, javascript]
published: true
---

https://esbuild.github.io/

## ãƒ“ãƒ«ãƒ‰æ™‚ã«ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã™ã‚‹æ–¹æ³•ã®ä¸€è¦§

- [(æ–¹æ³•1) Drop labels](#(æ–¹æ³•1)-drop-labels)
- [(æ–¹æ³•2) Define + Minify(minify syntax)](#(æ–¹æ³•2)-define-%2B-minify(minify-syntax))
- [(æ–¹æ³•3) Drop](#(æ–¹æ³•3)-drop)

## (æ–¹æ³•1) [Drop labels](https://esbuild.github.io/api/#drop-labels)

- âœ¨ [v0.18.13](https://github.com/evanw/esbuild/releases/tag/v0.18.13)

> [https://esbuild.github.io/try/](https://esbuild.github.io/try/#YgAwLjE4LjEzAC0tZHJvcC1sYWJlbHM9REVCVUcAZQBzYW1wbGUuanMAY29uc3QgbiA9IERhdGUubm93KCkKREVCVUc6IHsKICAgIGNvbnNvbGUubG9nKG4pCn0)

```js:sample.js
const n = Date.now()
DEBUG: {
    console.log(n)
}
```

```
esbuild sample.js --drop-labels=DEBUG
```

```js
const n = Date.now();
```

## (æ–¹æ³•2) [Define](https://esbuild.github.io/api/#define) + [Minify](https://esbuild.github.io/api/#minify)(minify syntax)

> [https://esbuild.github.io/try/](https://esbuild.github.io/try/#YgAwLjE4LjEzAC0tZGVmaW5lOkRFQlVHPWZhbHNlIC0tbWluaWZ5LXN5bnRheABlAHNhbXBsZS5qcwBjb25zdCBuID0gRGF0ZS5ub3coKQppZiAoREVCVUcpIHsKICAgIGNvbnNvbGUubG9nKG4pCn0)

```js:sample.js
const n = Date.now()
if (DEBUG) {
    console.log(n)
}
```

```
esbuild sample.js --define:DEBUG=false --minify-syntax
```

```js
const n = Date.now();
```

:::details ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤ã—ãªã„å ´åˆ
- `--define:DEBUG=true`
:::

:::details TypeScript: Cannot find name 'DEBUG'. (2304)
- å¤‰æ•°`DEBUG`ã«è­¦å‘ŠãŒå‡ºã‚‹ã®ã§ã‚¢ãƒ³ãƒ“ã‚¨ãƒ³ãƒˆå®£è¨€ãŒå¿…è¦
- `DEBUG.d.ts`ãªã©é©å½“ãªåå‰ã®åž‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨åŒéšŽå±¤ã«é…ç½®ã™ã‚‹

```ts
declare const DEBUG: boolean
```
:::

:::details åˆ©ç”¨æ©Ÿèƒ½ã®è©³ç´°
[Define](https://esbuild.github.io/api/#define)
- ãƒ“ãƒ«ãƒ‰æ™‚ã«è­˜åˆ¥å­ã‚’æŒ‡å®šã—ãŸå€¤ã«ç½®ãæ›ãˆã‚‹
---
[Minify](https://esbuild.github.io/api/#minify)(minify syntax)
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚‹ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ›ãˆã‚‹
- åˆ°é”ã§ããªã„ã‚³ãƒ¼ãƒ‰ `if (false) {}` ã¯å‰Šé™¤ã•ã‚Œã‚‹
:::

## (æ–¹æ³•3) [Drop](https://esbuild.github.io/api/#drop)

- âœ¨ [v0.14.10](https://github.com/evanw/esbuild/releases/tag/v0.14.10)

(â€») ä¸‹è¨˜ã®ãƒ‡ãƒãƒƒã‚°é–¢é€£ã®æ©Ÿèƒ½ã‚’ä¸€æ‹¬å‰Šé™¤

- [debugger](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/debugger)
- [consoleãƒ¡ã‚½ãƒƒãƒ‰](https://developer.mozilla.org/ja/docs/Web/API/console)

> [https://esbuild.github.io/try/](https://esbuild.github.io/try/#YgAwLjE4LjEzAC0tZHJvcDpkZWJ1Z2dlciAtLWRyb3A6Y29uc29sZQBlAHNhbXBsZS5qcwBjb25zb2xlLnRpbWUoKQpjb25zdCBuID0gRGF0ZS5ub3coKQpjb25zb2xlLnRpbWVFbmQoKQpkZWJ1Z2dlcgpjb25zb2xlLmxvZyhuKQ)

```js:sample.js
console.time()
const n = Date.now()
console.timeEnd()
debugger
console.log(n)
```

```
esbuild sample.js --drop:debugger --drop:console
```

```js
const n = Date.now();
```

## end
