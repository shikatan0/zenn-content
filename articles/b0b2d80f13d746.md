---
title: "[esbuild] ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰ã®å‡ºåŠ›ã‚’åˆ¶å¾¡ã™ã‚‹"
emoji: "ğŸ›"
type: "tech"
topics: [esbuild, javascript]
published: true
---

# æ¦‚è¦

ãƒ“ãƒ«ãƒ‰APIã€[Define](https://esbuild.github.io/api/#define)ã¨[Minify](https://esbuild.github.io/api/#minify)(minify syntax)ã‚’ä½¿ç”¨ã™ã‚‹ã€‚

# èª¬æ˜

- [Define](https://esbuild.github.io/api/#define)ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«è­˜åˆ¥å­ã‚’æŒ‡å®šã—ãŸå€¤ã«ç½®ãæ›ãˆã‚‹æ©Ÿèƒ½
- [Minify](https://esbuild.github.io/api/#minify)(minify syntax)ã¯æ§‹æ–‡ã‚’æ›¸ãæ›ãˆã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’å°ã•ãã™ã‚‹æ©Ÿèƒ½
- ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰ãŒè¨˜è¿°ã•ã‚Œã¦ã„ã‚‹æ¡ä»¶åˆ†å²ã®çœŸå½ã‚’[Define](https://esbuild.github.io/api/#define)ã§åˆ‡ã‚Šæ›¿ãˆã€å®Ÿè¡Œã•ã‚Œãªã„å ´åˆ[Minify](https://esbuild.github.io/api/#minify)(minify syntax)ã«ã‚ˆã£ã¦å‰Šé™¤ã•ã›ã‚‹

# å…·ä½“ä¾‹

ä»¥ä¸‹ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«`src.js`ã‚’ä¾‹ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹ã€‚
ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰ã¯`console.log('?')`ã¨ã—ã¦æƒ³å®šã™ã‚‹ã€‚

```js
console.log('!')
if (DEBUG) {
    console.log('?')
}
```

## ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰

ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰`console.log('?')`ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚

```
esbuild src.js --define:DEBUG=true --minify-syntax
```

```js
console.log("!"), console.log("?");
```

## ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰

ãƒ‡ãƒãƒƒã‚°ç”¨ã‚³ãƒ¼ãƒ‰`console.log('?')`ã¯å‡ºåŠ›ã•ã‚Œãªã„ã€‚

```
esbuild src.js --define:DEBUG=false --minify-syntax
```

```js
console.log("!");
```

# è£œè¶³ (TypeScript)

å¤‰æ•°`DEBUG`ã«è­¦å‘ŠãŒå‡ºã‚‹ã®ã§ã‚¢ãƒ³ãƒ“ã‚¨ãƒ³ãƒˆå®£è¨€ãŒå¿…è¦ã€‚
`DEBUG.d.ts`ã¨ã‹é©å½“ãªåå‰ã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¨åŒéšå±¤ã«é…ç½®ã™ã‚‹ã€‚

```ts
declare const DEBUG: boolean
```

# è£œè¶³ (é–¢é€£ã™ã‚‹æ©Ÿèƒ½)

ãƒ“ãƒ«ãƒ‰APIã€[Drop](https://esbuild.github.io/api/#drop)ã§[debugger](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/debugger)ã¨[console](https://developer.mozilla.org/ja/docs/Web/API/console)ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‰Šé™¤ã§ãã‚‹ã€‚

```
esbuild src.js --drop:debugger --drop:console
```

# end
