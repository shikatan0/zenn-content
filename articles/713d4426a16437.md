---
title: "ã€JavaScriptã€‘mousedown æ™‚ã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã‚’å–å¾—ã™ã‚‹"
emoji: "ğŸ–‹"
type: "tech"
topics: ["javascript"]
published: true
---

# å‰æ

ãƒ–ãƒ©ã‚¦ã‚¶ã«ãŠã‘ã‚‹ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã‚„ç¯„å›²é¸æŠæ™‚ã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ [selection [â†—]](https://developer.mozilla.org/ja/docs/Web/API/Selection) ([å¯¾å¿œçŠ¶æ³ [â†—]](https://caniuse.com/selection-api)) ãŒã‚ã‚Šã¾ã™ã€‚
ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®è¡¨ç¤ºä½ç½®ã¯ [mousedown ã‚¤ãƒ™ãƒ³ãƒˆ [â†—]](https://developer.mozilla.org/ja/docs/Web/API/Element/mousedown_event) ã®æ™‚ç‚¹ã§å¤‰åŒ–ã—ã¾ã™ãŒ [selection [â†—]](https://developer.mozilla.org/ja/docs/Web/API/Selection) ã®æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ [mousedown ã‚¤ãƒ™ãƒ³ãƒˆ [â†—]](https://developer.mozilla.org/ja/docs/Web/API/Element/mousedown_event) ã‚ˆã‚Šå°‘ã—é…ã„ã‚ˆã†ã§ã™ã€‚

# æ–¹æ³•

[selectionchange ã‚¤ãƒ™ãƒ³ãƒˆ [â†—]](https://developer.mozilla.org/ja/docs/Web/API/Document/selectionchange_event) ã§ [selection [â†—]](https://developer.mozilla.org/ja/docs/Web/API/Selection) ã®æ›´æ–°ã‚’æ¤œçŸ¥ã§ãã¾ã™ã€‚

```js
å¯¾è±¡è¦ç´ .addEventListener('mousedown', (event) => {
  // å·¦ã‚¯ãƒªãƒƒã‚¯ã®ã¿
  if (event.button !== 0) {
    return
  }
  document.addEventListener('selectionchange', () => {
    console.log(getSelection())
  }, {
    // 1 å›å‘¼ã³å‡ºã•ã‚ŒãŸã‚‰å‰Šé™¤ã™ã‚‹
    once: true
  })
})
```

# end
